package br.com.npsoftwares.djbc.dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.util.Calendar;

import br.com.npsoftwares.jdbc.ConnectionFactory;

public class ContatoDao {

	private Connection conn;
	
	public ContatoDao()
	{
		this.conn = new ConnectionFactory().getConn();
	}
	
	public void addContato(){

	    
	     
		 java.sql.Date dataForRecord = new java.sql.Date(Calendar.getInstance().getTimeInMillis());
		
	     StringBuilder sbQuery = new StringBuilder();
	     sbQuery.append("INSERT INTO tb0001_Contatos (");
	     sbQuery.append("nomeCONTATO,emailCONTATO,enderecoCONTATO,dataNascimentoCONTATO)");
	     sbQuery.append("values(?,?,?,?)");
	     
	     try {
			 
	    	 PreparedStatement stmt = conn.prepareStatement(sbQuery.toString());
	    	 
		     stmt.setString(1, "Caelum");
		     stmt.setString(2, "contato@caelum.com.br");
		     stmt.setString(3, "R.vergueiro 3185 cj27");
		     stmt.setDate(4,dataForRecord);
		     
		     stmt.execute();
		     stmt.close(); 
		     
		} catch (Exception e) {
			throw new RuntimeException(e);
		}

	}
}
